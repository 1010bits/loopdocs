<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Installing - Loop Docs</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/admonitions.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Loop Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Requirements <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../requirements/overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../../requirements/pump/">Insulin Pump</a>
</li>

                    
                        
<li >
    <a href="../../requirements/cgm/">CGM</a>
</li>

                    
                        
<li >
    <a href="../../requirements/rileylink/">RileyLink</a>
</li>

                    
                        
<li >
    <a href="../../requirements/computer/">Computer</a>
</li>

                    
                        
<li >
    <a href="../../requirements/iphone/">iPhone</a>
</li>

                    
                        
<li >
    <a href="../../requirements/appledev/">Apple Developer</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Build <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../overview/">Overview</a>
</li>

                    
                        
<li class="active">
    <a href="./">Installing</a>
</li>

                    
                        
<li >
    <a href="../configuration/">Configuration</a>
</li>

                    
                        
<li >
    <a href="../widget/">iPhone widget</a>
</li>

                    
                        
<li >
    <a href="../watch/">Apple Watch</a>
</li>

                    
                        
<li >
    <a href="../updating/">Updating</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Use <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../use/overview/">Loop Display</a>
</li>

                    
                        
<li >
    <a href="../../use/green-loop/">Getting a Green Loop</a>
</li>

                    
                        
<li >
    <a href="../../use/open-loop/">Open Loop</a>
</li>

                    
                        
<li >
    <a href="../../use/close-loop/">Close Loop</a>
</li>

                    
                        
<li >
    <a href="../../use/carbs/">Carb Entries</a>
</li>

                    
                        
<li >
    <a href="../../use/bolus/">Bolus</a>
</li>

                    
                        
<li >
    <a href="../../use/workout/">Workout Targets</a>
</li>

                    
                        
<li >
    <a href="../../use/priming/">Priming and Sites</a>
</li>

                    
                        
<li >
    <a href="../../use/time-change/">Time Changes</a>
</li>

                    
                        
<li >
    <a href="../../use/rileylink/">RileyLink</a>
</li>

                    
                        
<li >
    <a href="../../use/notifications/">Loop Notifications</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Algorithm <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../algorithm/overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../../algorithm/prediction/">Glucose Prediction</a>
</li>

                    
                        
<li >
    <a href="../../algorithm/temp_basal/">Temp Basal Adjustments</a>
</li>

                    
                        
<li >
    <a href="../../algorithm/bolus/">Bolus Recommendations</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Nightscout <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../nightscout/overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/new_user/">Setup New Site</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/update_user/">Update Site</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/azure_migration/">Azure to Heroku</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/mlab_cleanup/">mLab</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/loop_pill/">Loop Pill</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/ifttt/">IFTTT</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/pebble/">Pebble</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/pushover/">Remote Notifications</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/reports/">Reports</a>
</li>

                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../overview/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../configuration/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#installing-loop">Installing Loop</a></li>
        
            <li><a href="#setup-your-apple-computer">Setup your Apple Computer</a></li>
        
            <li><a href="#download-loop-source-code">Download Loop Source Code</a></li>
        
            <li><a href="#install-loop-using-xcode">Install Loop using Xcode</a></li>
        
            <li><a href="#code-customizations">Code Customizations</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="installing-loop">Installing Loop<a class="headerlink" href="#installing-loop" title="Permanent link">⌁</a></h1>
<p>You’re ready to get to the real stuff now, right?  Excited to get Looping?  Let’s do it.  Let’s put that Loop on your iPhone.</p>
<h2 id="setup-your-apple-computer">Setup your Apple Computer<a class="headerlink" href="#setup-your-apple-computer" title="Permanent link">⌁</a></h2>
<h3 id="verify-macos">Verify macOS<a class="headerlink" href="#verify-macos" title="Permanent link">⌁</a></h3>
<p>You need to be running macOS Sierra, so verify by clicking the apple logo in your computer display's upper left corner and selecting "About this Mac"</p>
<p align="center">
<img src="../img/macosx.png" width="450">
</p>

<p>If your macOS is not Sierra, click on the <code>Software Update</code> button and update to Sierra.  If your computer is older than late 2009, you may not be able to update to Sierra.  You can check Sierra compatibility <a href="https://www.apple.com/macos/how-to-upgrade/#hardware-requirements">here</a>. </p>
<h3 id="install-xcode">Install Xcode<a class="headerlink" href="#install-xcode" title="Permanent link">⌁</a></h3>
<p>Go to the <a href="https://developer.apple.com/xcode/">Apple App Store</a>? It’s an application on your Apple Computer.  Open it and search for Xcode.  Download and install it for free.  Easy peasy.  Except it takes about 20-40 minutes to download depending on your internet speed.</p>
<p align="center">
<img src="../img/xcode.jpg" width="450">
</p>

<h3 id="install-carthage">Install Carthage<a class="headerlink" href="#install-carthage" title="Permanent link">⌁</a></h3>
<p>The installation of Carthage has a few different ways it can be done, but the easiest is to download the Carthage package here:</p>
<p><a href="https://github.com/Carthage/Carthage/releases/download/0.24.0/Carthage.pkg">Carthage.pkg download</a>       </p>
<p>Find the downloaded <code>carthage.pkg</code> in your Downloads folder.  Double-click the file and follow the directions to install (basically give your computer’s password and it does the rest).  Done.  Nothing more needs to happen with Carthage (it runs in the background). </p>
<div class="admonition info">
<p>If you get a message that says "Carthage.pkg can't be opened because it is from an unidentified developer," click OK and go to your computer's System Preferences app.  Choose <code>Security and Privacy</code> and then click on the "Open Anyway" button for the Carthage.pkg.</p>
</div>
<p></br></p>
<p>IF you have problems with the installation method above, you can use the “Homebrew method”.  And here’s how it is done:</p>
<ul>
<li>
<p>Open the Terminal application on your Apple computer (it is located in the Utilities application folder)</p>
</li>
<li>
<p>Copy and paste the line below into Terminal prompt.  Press return after you paste it in.</p>
</li>
</ul>
<p><code>/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</code></p>
<ul>
<li>
<p>There will be a prompt asking if you want to continue.  Press return to continue, then it may prompt for your password.  Enter your computer user password.  Wait while the script does its thing...you’ll see info scroll by and then it will pause for awhile.  Eventually, it will be done and you’ll see something that says “Installation successful” and you’ll have a ready terminal prompt again.</p>
</li>
<li>
<p>Type <code>brew update</code> and press return.</p>
</li>
<li>
<p>Type <code>brew install carthage</code> and press return.  You can confirm carthage has been installed by running <code>carthage version</code> and it should return 0.24.0.  </p>
</li>
</ul>
<p>You can close the Terminal application now.  You’re done with it.  Phew.</p>
<p align="center">
<img src="../img/carthage.jpg" width="450">
</p>

<h2 id="download-loop-source-code">Download Loop Source Code<a class="headerlink" href="#download-loop-source-code" title="Permanent link">⌁</a></h2>
<p>You’ll need to obtain the Loop’s source code in order to build the app on your computer.  If you click on the link below, a copy of the Loop source code’s master branch will be downloaded to your Downloads folder.
</br></br></p>
<p><a href="https://github.com/LoopKit/Loop/archive/master.zip">Loop: Master branch source code</a></p>
<div class="admonition info">
<p>If you have your browser preferences set to download to a different drive than Downloads, make sure the specified drive is <strong>not</strong> an iCloud drive.  iCloud drives can cause problems with the frameworks for the project and Loop may not build properly.  If you have your System Preferences for iCloud set as shown below, you should <strong>NOT</strong> download Loop source code to your Documents or Desktop.  Holding the control key while you click on the download link will allow you to choose a specific download folder.
<p align="center">
<img src="../img/icloud-drive.png" width="650">
</p></p>
</div>
<p></br>
Advanced method: Alternatively, if you are already familiar with git and Terminal app use, you could save a local copy of Loop source code to your computer using <code>git clone https://github.com/LoopKit/Loop.git</code>.  This method would allow for saving local changes and updating, but does require some familiarity with git commands.  For new users, or those unfamiliar with git, we recommend using the direct download of master branch, above.</p>
<h2 id="install-loop-using-xcode">Install Loop using Xcode<a class="headerlink" href="#install-loop-using-xcode" title="Permanent link">⌁</a></h2>
<p>Here’s where the fun really begins.  You’re about to build your Loop app.</p>
<p>Go to your Downloads folder, open the Loop folder, and double click on Loop.xcodeproj.  </p>
<p align="center">
<img src="../img/loop_code.jpg" width="450">
</p>

<p>A warning may appear asking if you really want to open it, click Open.  Xcode will open the project, and take a few moments to organize the files.</p>
<p align="center">
<img src="../img/loop_open.jpg" width="450">
</p>

<p>Once Xcode has finished indexing, the Loop project will appear in the far left column.  Click on the blue Loop icon, and then click on the file called Loop.xcconfig.  The middle portion of Xcode window will populate and this is where you will find the MAIN_APP_BUNDLE_IDENTIFIER. The default is com.loopkit</p>
<p align="center">
<img src="../img/main_app_id.jpg" width="450">
</p>

<p>You need to change the MAIN_APP_BUNDLE_IDENTIFIER  to your own unique identifier.  Keep it in the reverse-domain syntax, meaning start with “com.” (no quotes though).  <strong>After you enter your new MAIN_APP_BUNDLE_IDENTIFIER, save the project using Command-S</strong>, and then click on the blue “Loop” file in the far left column.</p>
<p align="center">
<img src="../img/your_id.jpg" width="450">
</p>

<p>The next steps are to “sign” the application so that Apple will allow its use on the iPhone.  You will need to select a “team”.  If you already have a team from previous Xcode projects, you may see teams listed.  Use the dropdown menu to select the appropriate team.  Make sure you keep the “automatically manage signing” box checked.  </p>
<p>If, however, this is your first time signing an app in Xcode, your screen may instead look like the screen below.  In which case, you will need to add a developer account (either free or paid) by clicking on “Add Account”.  </p>
<p align="center">
<img src="../img/add_account.jpg" width="450">
</p>

<p>“Add Account” will open the Xcode preferences window, as shown below.  You will need to sign in with your Apple ID (or create one, if you don’t already have one).</p>
<p align="center">
<img src="../img/xcode_account.jpg" width="450">
</p>

<p>Once you get signed in, your Apple ID will appear under the Accounts section as shown below.  Close that window by pressing the little red circle in the upper left corner, and you will return to the main Xcode screen again.</p>
<p>Note: You may need to close Xcode and restart to see your Apple account for signing to appear in the Signing section.</p>
<p align="center">
<img src="../img/apple_id.jpg" width="450">
</p>

<div class="admonition info">
<p class="admonition-title">Sidenote about signing teams and developer account</p>
<p>If you sign using a team with “(Personal Team)”, these apps will expire after 7 days as they have been created with the free developer account profiles.</p>
<p>If you sign using a team WITHOUT “(Personal Team)”, as shown below, the app will be valid for the full duration of your apple developer account enrollment (one-year subscriptions).</p>
<p><p align="center">
<img src="../img/team.jpg" width="450">
</p></p>
<p>Many people think “Hey I’ll try to build this Loop for free and if I like it, then I’ll buy the $99 Apple Developer license.”  If that’s you right now, please come back here when you are ready to reinstall as a paid developer account.  You will need to:</p>
<ul>
<li>Select the correct team because now there will be two to choose from.  Use the one without the “(Personal Team)” to build apps that last a full 12 months.</li>
<li>When you rebuild your app, choose a new MAIN_APP_BUNDLE_IDENTIFIER different than your previous one.  For example, if you used “com.yourname” on the free app then choose “com.yourname2” for the new paid app.  </li>
<li>You will have to re-enter your Loop settings on your new app once it is installed.</li>
</ul>
</div>
<p>When you return to the main screen, select your team name and you may see two status warnings.  The first warning may appear if you do not have an iPhone plugged into the Mac.  The “failed to create a provisioning profile” has details that should alert you to plug in your device (iPhone).  Once you connect your iPhone via cable to the Mac, select your iPhone from the hidden drop down list (see red arrow below).  Your device’s personal name should be at the top of the list.  Select your personal device. You may need to “register the device” if this is your first time using Xcode with that iphone, follow the prompt if that’s the case.</p>
<p align="center">
<img src="../img/two_fails.jpg" width="600">
</p>

<p>Once you select your device, Xcode should resolve the warnings and generate a Provisioning Profile.  If you click on the information icon (little “i” in the circle), for the Provisioning Profile, you can verify the signing date and mark your calendar for rebuilding in 7 days if you are using a free Apple Developer account.  If you are enrolled in the Apple Developer Program (aka paid the $99), the expiration date will be for a year from the creation date.</p>
<p>Finally, you need to make sure to sign all FOUR “targets” to the application; Loop, Loop Status Extension, WatchApp, and WatchApp Extension.  So far, we have only signed the Loop target.  Click on the blue “Loop” on the left and then the box with the vertical line to drop down the targets list.  Choose each of the remaining three targets and then select the signing team that you selected previously in the Loop target signing. Make sure you have signed all four targets.  If the “loopkit” still appears on the Bundle Identifier line, don’t worry about it.  Xcode will update that to your chosen MAIN_APP name when it builds.  Sometimes Xcode is just slow to rename.  Just leave that Bundle Identifier line untouched.</p>
<p align="center">
<img src="../img/target_view.jpg" width="450">
</p>

<div class="admonition info">
<p class="admonition-title">Customizations</p>
<p><strong>New Loop users</strong>: Customizations are not a required part of any Loop build.  As you gain experience in how you use your Loop app, you may want to customize some of the features.  You can always update your Loop app to add customizations at a later time.</br></br>
If you want any custom configurations to your Loop app, now is the time to make them before you finish with the installation of Loop on your iPhone.  Follow the step-by-step instructions (found by clicking on the "Code Customizations" link to the left).  When you’ve completed those customizations, please return here and follow the next steps to finish the installation of Loop.</p>
</div>
<p>All done with customizations? Let’s finish the installation of the Loop app onto your iPhone.  Select your iPhone's name and then press the “play” button (or build button) to start Xcode on its way.  You may be prompted to add the iPhone to your Developer Account...go ahead and do so.  You’ll see the progression of the build in the status window.  If the build is successful, it will say "running Loop" or "finished running Loop" in the status bar.  </p>
<p align="center">
<img src="../img/select_device.jpg" width="450">
</p>

<p>If this is the first time you have installed an app on your iPhone using your Developer Account, you may get a warning like this.  Just follow the directions in the warning, and the issue resolves very quickly.  Click ok and you can safely disconnect your iPhone from the computer.  (If you don’t get a warning and the Loop app installs but does not open, you may still need to go to Settings-&gt;General-&gt;Device Management and enable trust for your Developer Account.)</p>
<p align="center">
<img src="../img/trust_device.jpg" width="450">
</p>

<p>You can confirm Loop has installed on your phone simply by looking on the iPhone.  Turn it on and check if the Loop app is running, or locating the Loop app icon.  If you don’t see it, try pressing the build (play) button again.  There should be a message at the top of Xcode window indicating a successful build.  Once you get confirmation and can see Loop on your iPhone, you can simply unplug from computer and begin the configuration steps within the Loop app.  </p>
<p>CONGRATS!  YOU JUST INSTALLED LOOP!</p>
<h3 id="build-errors">Build Errors<a class="headerlink" href="#build-errors" title="Permanent link">⌁</a></h3>
<p><strong>Yellow error alerts</strong> do not cause the build to fail, those are just warnings.  The current version of Loop (v1.3.3) has a yellow alert that will appear when you build, as shown below, regarding GetRecentGlucoseChange.  You can ignore that alert.</p>
<p align="center">
<img src="../img/master-done.png" width="450">
</p>

<p><strong>Red error alerts</strong> will prevent Loop from building on your phone, and you can read what the failure was.  The most common red error alerts are: </p>
<ol>
<li>
<p>"The Apple Developer Program License Agreement has been updated,  In order to access certain membership resources, you must accept the latest license agreement."  You'll need to log onto your Developer account at developer.apple.com and accept the latest license agreement.</p>
</li>
<li>
<p>"Could not locate device support files.  This iPhone is running iOS 10.3.2 which may not be supported by this version of Xcode."  You will need to go to your Mac's App Store and download &amp; install the Xcode app update.</p>
</li>
<li>
<p>"Swift Compilier Error.  Module compiled with Swift 3.0.2 cannot be imported in Swift 3.1"  Make sure your Xcode app is updated (see item above) and make sure you have a fresh download of the Loop source code.  Older Loop versions will not compile with the new Xcode app.</p>
</li>
<li>
<p>"The app ID "com.loopkit.Loop" cannot be registered to your development team. Change your bundle identifier to a unique string to try again.  Provisioning profile "iOS Team Provisioning Profile: *" doesn't support the App Groups and HealthKit capabilities"  These error commonly appears when you have forgotten to press command-s to save your project after changing the main app bundle identifier.  When this error occurs, it is best to simply delete your Loop folder from the downloads folder and start again.  Make a fresh download of Loop source code, and this time remember to press command-s after you change the main app bundle identifier and before you sign and build the app.</p>
</li>
</ol>
<hr />
<h2 id="code-customizations">Code Customizations<a class="headerlink" href="#code-customizations" title="Permanent link">⌁</a></h2>
<p>Based on Loop users’ experience, there are some customizations that you may want to incorporate ahead of building your Loop app.  These customizations must be done prior to building the Loop app onto your iPhone, they cannot be done from within the app itself.</p>
<p><b>[Note: To help you find the Line numbers in Xcode, it may be helpful to turn them on now.  Go to Xcode Preferences, under Text Editing, click the box to Show Line Numbers.  Every effort will be made to update the line numbers as the code is updated periodically, but there may be times where the screenshots and line numbers are slightly different than the current version of Loop code.]</b></p>
<h3 id="default-carb-absorption-times">Default Carb Absorption Times<a class="headerlink" href="#default-carb-absorption-times" title="Permanent link">⌁</a></h3>
<p><img style="float: right;" width="200" src="../img/carb_screen.png"></p>
<p>Loop’s default carb absorption times are based on the high, medium, and low glycemic index absorption curves presented in <i>Think Like A Pancreas</i> by Gary Scheiner.  Currently the lollipop icon is set for 120 minutes, taco icon for 180 minutes, and pizza icon for 240 minutes.  These default values may not work for everyone, you will need to find what works for you.</p>
<p>You can modify these defaults to suit your needs, however it would be best to test your own carb absorption patterns before necessarily adjusting the defaults.  You can always modify these after you’ve had some Loop experience and simply reinstall the Loop.  (after all, you’re a pro at that now)  Section 6 provides some examples of analyzing meal and Loop behaviors to determine if your carb absorption times are accurate.</p>
<p>If you would like to modify those defaults, you can do so in the LoopDataManager.swift Line 57.  Note, the times are in hours, not minutes, in the code.</p>
<p align="center">
<img src="../img/carb_times.jpg" width="500">
</p>

<h3 id="loop-logo">Loop Logo<a class="headerlink" href="#loop-logo" title="Permanent link">⌁</a></h3>
<p>If you want an app logo other than the default green circle for your Loop app, you can easily customize this.  To make it easy to generate the correct sizes of icons, you can use a site like <a href="http://www.appicon.build/">appicon.build</a> and just drag and drop your source image. The site will email you a zip file.  Double click the zip file, choose the “ios” folder, and copy the contents of the Appicon.appiconset as shown highlighted below.</p>
<p align="center">
<img src="../img/appicon1.jpg" width="450">
</p>

<p>Now navigate to the corresponding Loop folder as shown below.  Replace the contents of the Appicon.appiconset with your copied images.</p>
<p align="center">
<img src="../img/appicon2.jpg" width="450">
</p>

<p>You can confirm the successful change by looking in Xcode.  You should see your custom logo in the Appicon set now.  You will also likely see a yellow alert that there are “5 unassigned children”.  This alert will not prevent your app from building, it’s simply because the zipfile contained more sizes of images than Loop app uses.  You can just leave the unassigned images as is.</p>
<p align="center">
<img src="../img/appicon3.jpg" width="450">
</p>

<h3 id="loop-graph-hours">Loop Graph hours<a class="headerlink" href="#loop-graph-hours" title="Permanent link">⌁</a></h3>
<p>If you want the Loop’s graphs to display different time length than the default, you will go to the StatusTableViewController.swift line 181. This code keeps track of how many hours to display in total and how far into the future to display on your graphs. For total hours it does a calculation based upon your screen size and how granular to display between each segment. For how far forward to display, it currently uses your Insulin Action Duration setting to determine this (and if that number is missing for some reason it defaults to 4 hours).</p>
<p>Please note, using this will make it more difficult to see changes in other charts on your screen (like length of temp basal).</p>
<p align="center">
<img src="../img/chart_history.jpg" width="500">
</p>

<p>Here are a couple of ways you could modify line 181 based on your specific wants:</p>
<p>Want double the amount of total hours shown?
<code>let historyHours = (totalHours * 2) - (dataManager.insulinActionDuration ?? TimeInterval(hours: 4)).hours</code></p>
<p>Want 1/2 of my Insulin Action Duration to show in the future?
<code>let historyHours = totalHours - ((dataManager.insulinActionDuration / 2) ?? TimeInterval(hours: 4)).hours</code></p>
<p>Want 2.5 x the total time and only 2 hours forward within that?
<code>let historyHours = (totalHours * 2.5) - (TimeInterval(hours: 2)).hours</code></p>
<h3 id="workout-range-duration">Workout Range Duration<a class="headerlink" href="#workout-range-duration" title="Permanent link">⌁</a></h3>
<p><img style="float: right;" width="200" src="../img/workout_default.png">
If you’d like more than just the standard 1 or 2 hour duration for the Workout Range, you can add or modify the code to add another time interval or edit the existing ones.</p>
<p>Go to the Loop&gt;&gt;Extensions&gt;&gt;UIAlertController.swift and modify Line 30.  The default has 1 and 2 hours as shown where the arrow is pointing in the screenshot.  You can edit those to whatever duration you want (in units of hours) and add a duration if you prefer.  If you’d like 1, 2, and 3 hours options...simply edit the numbers in the brackets to read [1, 2, 3]. It is possible to enter less than 1 hour intervals such as 15min, 30 min, 45 min by editing the brackets to read [0.25, 0.5, 0.75].</p>
<p align="center">
<img src="../img/workout_add.jpg" width="500">
</p>

<h3 id="apple-watch-customizations">Apple Watch Customizations<a class="headerlink" href="#apple-watch-customizations" title="Permanent link">⌁</a></h3>
<h4 id="recommended-bolus-autofill">Recommended Bolus Autofill<a class="headerlink" href="#recommended-bolus-autofill" title="Permanent link">⌁</a></h4>
<p>The Apple Watch's default is to autofill to 75% of the recommended bolus.  If you wish, you can customize so that the watch autofills a different percentage. To do this, the multiplier can be changed from 0.75 to a value of your choice. A value of 1 will autofill 100% of the recommended bolus. A value of 0 will autofill 0% of the recommended bolus.   Go to the Loop Watchapp Extension Folder, within that go to the controllers folder, within that go to BolusInterfaceController.swift. Edit the section of line 97 as indicated on the picture below.</p>
<p align="center">
<img src="../img/watch_bolus.jpg" width="500">
</p>

<h4 id="adjust-sensitivity-of-digital-crown-for-carb-and-bolus-entry">Adjust sensitivity of digital crown for carb and bolus entry<a class="headerlink" href="#adjust-sensitivity-of-digital-crown-for-carb-and-bolus-entry" title="Permanent link">⌁</a></h4>
<p>The rate of change of the carb and bolus entry pickers when using the digital crown can be altered. Navigate to the WatchApp Extension folder and within that the Controllers folder. Edit line 130 of AddCarbsInterfaceController.swift and line 161 of BolusInterfaceController.swift. The 1/24 value is the ratio of rotations of the crown to the amount of change in the value. Changing it to 1/12 would mean that twice as many turns would be needed for the same amount of carb or bolus entry.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>