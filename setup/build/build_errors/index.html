<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>Build Errors - Loop Docs</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/base.css" rel="stylesheet">
        <link href="../../../css/admonitions.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-109876065-1', 'loopkit.github.io');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Loop Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../../..">Home</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Setup <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../overview/">Overview</a>
</li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Requirements</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../requirements/pump/">Insulin Pump</a>
</li>

        
            
<li >
    <a href="../../requirements/cgm/">CGM</a>
</li>

        
            
<li >
    <a href="../../requirements/rileylink/">RileyLink</a>
</li>

        
            
<li >
    <a href="../../requirements/computer/">Computer</a>
</li>

        
            
<li >
    <a href="../../requirements/iphone/">iPhone</a>
</li>

        
            
<li >
    <a href="../../requirements/appledev/">Apple Developer</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Install Loop</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../installing/">Building App</a>
</li>

        
            
<li class="active">
    <a href="./">Build Errors</a>
</li>

        
            
<li >
    <a href="../code_customization/">Code Customization</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Loop App setup</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../loop-settings/settings/">Loop Settings</a>
</li>

        
            
<li >
    <a href="../../loop-settings/services/">Loop Services</a>
</li>

        
            
<li >
    <a href="../../loop-settings/rileylink_menu/">RileyLink menu</a>
</li>

        
            
<li >
    <a href="../../loop-settings/pump/">Pump Setup</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Update</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../update/updating/">Updating</a>
</li>

        
            
<li >
    <a href="../../update/new-version/">New Version Info</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Operation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../operation/overview/">Loop Displays</a>
</li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">How to Use Loop App</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../operation/features/carbs/">Carb Entries</a>
</li>

        
            
<li >
    <a href="../../../operation/features/bolus/">Bolus</a>
</li>

        
            
<li >
    <a href="../../../operation/features/workout/">Workout Targets</a>
</li>

        
            
<li >
    <a href="../../../operation/features/ice/">Using ICE info</a>
</li>

        
            
<li >
    <a href="../../../operation/features/watch/">Apple Watch</a>
</li>

        
            
<li >
    <a href="../../../operation/features/widget/">iPhone widget</a>
</li>

        
            
<li >
    <a href="../../../operation/features/healthapp/">Health App</a>
</li>

        
            
<li >
    <a href="../../../operation/features/notifications/">Loop Notifications</a>
</li>

        
            
<li >
    <a href="../../../operation/features/battery/">Pump Battery</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Looping Tips</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../operation/loop/open-loop/">Open Loop</a>
</li>

        
            
<li >
    <a href="../../../operation/loop/close-loop/">Closed Loop</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Algorithm</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../operation/algorithm/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../../operation/algorithm/bolus/">Bolus Recommendations</a>
</li>

        
            
<li >
    <a href="../../../operation/algorithm/prediction/">Glucose Prediction</a>
</li>

        
            
<li >
    <a href="../../../operation/algorithm/temp_basal/">Temp Basal Adjustments</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Troubleshooting <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../troubleshooting/overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/green-loop/">Grey Loop</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/yellow-red-loop/">Yellow/Red Loop</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/mlab_cleanup/">NS display</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/priming/">Priming and Sites</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/rileylink/">RileyLink</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/time-change/">Time Changes</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/pump-errors/">Pump Errors</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Nightscout <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../nightscout/overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/new_user/">Setup New Site</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/update_user/">Update Site</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/azure_migration/">Azure to Heroku</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/loop_pill/">Loop Pill</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/ifttt/">IFTTT</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/pebble/">Pebble</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/pushover/">Remote Notifications</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/reports/">Reports</a>
</li>

                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../installing/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../code_customization/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#build-errors">Build Errors</a></li>
        
            <li><a href="#exit-code-1-unrecognized-arguments-cache-builds">Exit Code 1: Unrecognized arguments: --cache-builds</a></li>
        
            <li><a href="#exit-code-1-xcode-select-install">Exit Code 1: xcode-select --install</a></li>
        
            <li><a href="#updated-xcode-but-need-to-carthage-bootstrap">Updated Xcode, but need to Carthage Bootstrap</a></li>
        
            <li><a href="#developer-license-update">Developer License Update</a></li>
        
            <li><a href="#swift-language-version">Swift Language Version</a></li>
        
            <li><a href="#embedded-binary-error">Embedded Binary error</a></li>
        
            <li><a href="#abort-with-payload">Abort with Payload</a></li>
        
            <li><a href="#exit-code-127">Exit Code 127</a></li>
        
            <li><a href="#apple-watch-loop-app-not-appearing">Apple Watch: Loop app not appearing</a></li>
        
            <li><a href="#apple-watch-loop-app-not-installing">Apple Watch: Loop app not installing</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="build-errors">Build Errors<a class="headerlink" href="#build-errors" title="Permanent link">⌁</a></h1>
<p>There are two types of build errors that happen; yellow alerts and red alerts.  Yellow alerts will not cause a build to fail, and can generally be ignored.  Red alerts will have to be resolved before you can successfully build Loop app.</p>
<p><font color="orange"><strong>Yellow error alerts</strong></font> do not cause the build to fail, those are just warnings.  Occasionally, a Loop version may have some minor discrepencies that cause a yellow alert...but you can ignore those.</p>
<p align="center">
<img src="../img/master-done.png" width="750">
</p>

<p><font color="red"><strong>Red error alerts</strong> </font> will have to be resolved before you can successfully build Loop app.  The most common cause of red alerts comes from being out of sync between the various parts of Apple's infrastructure (iOS, Xcode, Swift, watchOS, macOS) that are frequently updated.  For every update to iOS/Xcode, the volunteer Loop developers have to make changes to the underlying source code.  This takes time...so when Apple updates are pushed out, sometimes there may be a short period of time until the code is updated to match.  If you encounter a build error that is not listed below, please get on the Facebook Looped group or Gitter to let us know.</p>
<h2 id="exit-code-1-unrecognized-arguments-cache-builds">Exit Code 1: Unrecognized arguments: --cache-builds<a class="headerlink" href="#exit-code-1-unrecognized-arguments-cache-builds" title="Permanent link">⌁</a></h2>
<p>Error message: "<strong><u>Command /bin/sh failed with exit code 1</u></strong>"</p>
<p></p>
<p align="center">
<img src="../img/exit-code-1.jpg" width="550">
</p></p>
<p>Solution: Please open your Terminal app found in the Applications&gt;&gt;Utilities folder and then enter <code>/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</code>  Confirm installation by pressing enter, and then typing in your computer password.  When the installation finishes, use the command <code>brew link --overwrite carthage</code>.  After those two steps, you can close out Terminal app, return to Xcode and press the build/play button again.</p>
<h2 id="exit-code-1-xcode-select-install">Exit Code 1: xcode-select --install<a class="headerlink" href="#exit-code-1-xcode-select-install" title="Permanent link">⌁</a></h2>
<p>Error message: "<strong><u>Command /bin/sh failed with exit code 1</u></strong>"</p>
<p></p>
<p align="center">
<img src="../img/keychain1.jpg" width="550">
</p></p>
<p>Solution:  This error message has been more frequent lately, but I am unsure if there is a new underlying change in Xcode or people are inadvertently saying "no" to allowing Keychain Access. Regardless the solution is as follows:</p>
<ol>
<li>Close Xcode</li>
<li>Open your Keychain Access application (found in Applications within the Utilities folder, similar to where Terminal app is found)</li>
<li>In the upper left corner of keychain access, make sure you have the keychain <code>login</code> highlighted and then click the large lock icon above the keychains area.  Click the lock closed, and then click the lock to open it again. You will be prompted for a password.  Enter your computer admin password.  Close Keychain Access app.
</p>
<p align="center">
<img src="../img/keychain3.png" width="350">
</p></li>
<li>Open your Loop project again in Xcode.</li>
<li>In the main Xcode ribbon menu (grey menu bar at the very top of your Apple display area), select the word <code>Product</code> and then select the option for <code>Clean</code>. (keyboard shortcut is shift-command-k)</li>
<li>Now try rebuilding your Loop app.  If you ever get prompted again to allow Xcode access to Keychain, make sure to Always Allow.</li>
</ol>
<h2 id="updated-xcode-but-need-to-carthage-bootstrap">Updated Xcode, but need to Carthage Bootstrap<a class="headerlink" href="#updated-xcode-but-need-to-carthage-bootstrap" title="Permanent link">⌁</a></h2>
<p>Error message: "<strong><u>Swift Compilier Error.  Module compiled with Swift 4.0 cannot be imported in Swift 4.0.x</u></strong>"
<p align="center">
<img src="../img/xcode9_1.png" width="750">
</p></p>
<p>Soultion: Xcode was recently updated, and the current Loop master branch will produce this error message until the code is updated.  You will need to perform the following steps:</p>
<ul>
<li>Open Terminal App</li>
<li>Navigate to your Loop download by doing the command:
<code>cd downloads/Loop-master</code>
(or whatever you named your Loop folder...go check)</li>
<li>Now use the command
<code>carthage bootstrap</code>
It will run for about 4-5 minutes and then show you a screen like below.
<p align="center">
<img src="../img/carthage-bootstrap.png" width="750">
</p></li>
</ul>
<div class="admonition info">
<p>If during the run of <code>carthage bootstrap</code>, you instead see an error message like below:
</p>
<p align="center">
<img src="../img/exit-code-72.jpg" width="550">
</p>
Please go to your Xcode preferences, under the Locations tab, select <code>Xcode 9.3</code> under the Command Line Tools
<p align="center">
<img src="../img/command-line-tools.png" width="750">
</p></p>
<p>If Xcode 9.3 is not available in the dropdown menu, (1) make sure you have update your Xcode from the App store and then (2) go to Terminal app and run the command <code>xcode-select --install</code> which will produce a pop-up window for the installation of command line developer tools.  Select  <code>install</code> in that pop-up window.</p>
<p>Return to Terminal app and rerun <code>carthage bootstrap</code> in your Loop download folder.  It should resolve correctly after that.</p>
</div>
<ul>
<li>Go back to your Loop project in Xcode, select your iPhone, and press the build button. You'll still see some yellow alerts, but those are fine.
<p align="center">
<img src="../img/yellow-update.png" width="750">
</p></li>
</ul>
<h2 id="developer-license-update">Developer License Update<a class="headerlink" href="#developer-license-update" title="Permanent link">⌁</a></h2>
<p>Error message: "<strong><u>The Apple Developer Program License Agreement has been updated,  In order to access certain membership resources, you must accept the latest license agreement.</u></strong>"</p>
<p>Solution: You'll need to log onto your developer account at <a href="https://developer.apple.com/account/">developer.apple.com</a> and accept the latest license agreement.
<p align="center">
<img src="../img/license.png" width="750">
</p></p>
<h2 id="swift-language-version">Swift Language Version<a class="headerlink" href="#swift-language-version" title="Permanent link">⌁</a></h2>
<p>Error message: <strong><u>Swift Language Version” (SWIFT_VERSION) is required to be configured correctly</u></strong> for targets which use Swift. Use the [Edit &gt; Convert &gt; To Current Swift Syntax…] menu to choose a Swift version or use the Build Settings editor to configure the build setting directly" or also <strong>"Could not locate device support files.  This iPhone is running iOS 11.x, which may not be supported by this version of Xcode.</strong>"</p>
<p>Solution: You will need to go to your computer's App Store and install the Xcode app update.
<p align="center">
<img src="../img/old_xcode.jpg" width="750">
</p>
<p align="center">
<img src="../img/old_xcode2.jpg" width="750">
</p>
<p align="center">
<img src="../img/update.jpg" width="750">
</p></p>
<h2 id="embedded-binary-error">Embedded Binary error<a class="headerlink" href="#embedded-binary-error" title="Permanent link">⌁</a></h2>
<p>Error message: "<strong><u>Embedded Binary Validation Utility.  error: Embedded binary's bundle identifier is not prefixed with the parent app's bundle identifier</u></strong>".
<p align="center">
<img src="../img/bundle_fail.jpg" width="750">
</p>
Solution:  This error happens because you've either</p>
<ol>
<li>Forgotten to save project after the MAIN_APP_BUNDLE_ID was changed (most common cause)</li>
<li>Tried to manually change one of the Bundle ID names in one of the four targets, or</li>
<li>Used an incorrect syntax in the MAIN_APP_BUNDLE_ID.</li>
</ol>
<p>In any case however, usually this error is most easily solved by closing out your project, deleting the download folder, and starting with a fresh download of Loop app.  The next time you build, make sure to follow the directions carefully to use a MAIN_APP_BUNDLE_ID in the right format and press <code>command-s</code> to force Xcode to update the targets' naming scheme correction.</p>
<h2 id="abort-with-payload">Abort with Payload<a class="headerlink" href="#abort-with-payload" title="Permanent link">⌁</a></h2>
<p>Error message: "<strong><u>Abort with payload</u></strong>"  Your app will only open briefly with a white screen and then close, if you build with this error.
<p align="center">
<img src="../img/abort_payload.png" width="750">
</p>
Solution: This error message is caused by either</p>
<ol>
<li>Saving Loop download folder into an iCloud mapped drive, or</li>
<li>Having a space in the name of your Loop download folder.</li>
</ol>
<p>Rename the folder to have no spaces and/or move it back to the Downloads folder, then rebuild.</p>
<h2 id="exit-code-127">Exit Code 127<a class="headerlink" href="#exit-code-127" title="Permanent link">⌁</a></h2>
<p>Error message: "<strong><u>Shell Script Invocation Error.  Command /bin/sh failed with exit code 127</u></strong>"
<p align="center">
<img src="../img/exit127.jpg" width="250">
</p></p>
<p>Solution: This error code is happening for Loopers updating to Loop who used carthage.pkg and don't have homebrew installed.  We have since updated the installation docs, so new users likely won't run into this error.  But, if you are an existing Looper encountering this error message while trying to update your Loop, please open your Terminal app found in the Applications&gt;&gt;Utilities folder and then enter <code>/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</code>  Confirm installation by pressing enter, and then typing in your computer password.  When the installation finishes, use the command <code>brew link --overwrite carthage</code>.  After those two steps, you can close out Terminal app, return to Xcode and press the build/play button again.</p>
<h2 id="apple-watch-loop-app-not-appearing">Apple Watch: Loop app not appearing<a class="headerlink" href="#apple-watch-loop-app-not-appearing" title="Permanent link">⌁</a></h2>
<p>Error: <strong><u>Apple watch app is not appearing</u></strong>.</p>
<p>Solution: Usually because you have not updated to watchOS prior to when you built Loop, or you didn't have your Apple watch paired at the time of building Loop.  Don't forget to open the iPhone's Watch app, select My Watch tab on the bottom left, scroll all the way down, and click <code>Install</code> for the Loop app listed at the very bottom under "available apps".</p>
<h2 id="apple-watch-loop-app-not-installing">Apple Watch: Loop app not installing<a class="headerlink" href="#apple-watch-loop-app-not-installing" title="Permanent link">⌁</a></h2>
<p>Error: <strong><u>The Loop app appears on the list of app available to install on the watch, but when you press "install", and it goes through the animation of filling in the circle while it's installing, but then at the end it just toggles back to saying "INSTALL"</u></strong>.</p>
<p>Solution:  Plug your iPhone into the computer and start Xcode.  On your watch, look for a prompt that says "Trust this computer".  Scroll down on the watchface and select the "Trust" button.  Now rebuild your Loop app in Xcode, but look for a pop-up message that warns you that the Watch isn't registered with the Developer portal.  Click on the "register" button that is in the pop-up window and proceed with the Loop app building again.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>