<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>RileyLink menu - Loop Docs</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/base.css" rel="stylesheet">
        <link href="../../../css/admonitions.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-109876065-1', 'loopkit.github.io');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Loop Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../../..">Home</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Setup <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../overview/">Overview</a>
</li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Requirements</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../requirements/pump/">Insulin Pump</a>
</li>

        
            
<li >
    <a href="../../requirements/cgm/">CGM</a>
</li>

        
            
<li >
    <a href="../../requirements/rileylink/">RileyLink</a>
</li>

        
            
<li >
    <a href="../../requirements/computer/">Computer</a>
</li>

        
            
<li >
    <a href="../../requirements/iphone/">iPhone</a>
</li>

        
            
<li >
    <a href="../../requirements/appledev/">Apple Developer</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Install Loop</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../build/installing/">Building App</a>
</li>

        
            
<li >
    <a href="../../build/build_errors/">Build Errors</a>
</li>

        
            
<li >
    <a href="../../build/code_customization/">Code Customization</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Loop App setup</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../settings/">Loop Settings</a>
</li>

        
            
<li >
    <a href="../services/">Loop Services</a>
</li>

        
            
<li class="active">
    <a href="./">RileyLink menu</a>
</li>

        
            
<li >
    <a href="../pump/">Pump Setup</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Update</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../update/updating/">Updating</a>
</li>

        
            
<li >
    <a href="../../update/new-version/">New Version Info</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Operation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../operation/overview/">Loop Displays</a>
</li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">How to Use Loop App</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../operation/features/carbs/">Carb Entries</a>
</li>

        
            
<li >
    <a href="../../../operation/features/bolus/">Bolus</a>
</li>

        
            
<li >
    <a href="../../../operation/features/workout/">Workout Targets</a>
</li>

        
            
<li >
    <a href="../../../operation/features/ice/">Using ICE info</a>
</li>

        
            
<li >
    <a href="../../../operation/features/watch/">Apple Watch</a>
</li>

        
            
<li >
    <a href="../../../operation/features/widget/">iPhone widget</a>
</li>

        
            
<li >
    <a href="../../../operation/features/healthapp/">Health App</a>
</li>

        
            
<li >
    <a href="../../../operation/features/notifications/">Loop Notifications</a>
</li>

        
            
<li >
    <a href="../../../operation/features/battery/">Pump Battery</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Looping Tips</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../operation/loop/open-loop/">Open Loop</a>
</li>

        
            
<li >
    <a href="../../../operation/loop/close-loop/">Closed Loop</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Algorithm</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../operation/algorithm/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../../operation/algorithm/bolus/">Bolus Recommendations</a>
</li>

        
            
<li >
    <a href="../../../operation/algorithm/prediction/">Glucose Prediction</a>
</li>

        
            
<li >
    <a href="../../../operation/algorithm/temp_basal/">Temp Basal Adjustments</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Troubleshooting <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../troubleshooting/overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/green-loop/">Grey Loop</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/yellow-red-loop/">Yellow/Red Loop</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/mlab_cleanup/">NS display</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/priming/">Priming and Sites</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/rileylink/">RileyLink</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/time-change/">Time Changes</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/pump-errors/">Pump Errors</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Nightscout <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../nightscout/overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/new_user/">Setup New Site</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/update_user/">Update Site</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/azure_migration/">Azure to Heroku</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/loop_pill/">Loop Pill</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/ifttt/">IFTTT</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/pebble/">Pebble</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/pushover/">Remote Notifications</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/reports/">Reports</a>
</li>

                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../services/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../pump/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#configuring-loop-rileylink-menu">Configuring Loop - RileyLink Menu</a></li>
        
            <li><a href="#device">Device</a></li>
        
            <li><a href="#pump">Pump</a></li>
        
            <li><a href="#commands">Commands</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="configuring-loop-rileylink-menu">Configuring Loop - RileyLink Menu<a class="headerlink" href="#configuring-loop-rileylink-menu" title="Permanent link">⌁</a></h1>
<p>RileyLink has a little switch on the side of the circuit board that is the power switch.  The “on” position is with the switch towards the antenna (the black cylinder on the RileyLink).  Your RileyLink will have a solid green light showing when the device is on and connected to the iPhone's BT.  A blue light will flash briefly during pump communications.</p>
<p>The RileyLink menu is accessed by clicking on the name of the connected RileyLink in the Loop Settings.  There are several important commands in the RileyLink menu that you should be aware of.</p>
<h2 id="device">Device<a class="headerlink" href="#device" title="Permanent link">⌁</a></h2>
<p>The settings under the Device section are mostly for your information only.  However, you can rename your RileyLink to something more unique.  This is a good idea if you own more than one or are ever in the presence of more than one RileyLink...you will be able to pick out your connection easier amongst a crowd of “RileyLinks”.</p>
<p>The <code>Signal Strength</code> showing under this area of the menu is the signal strength of the BT with the iPhone.  It is <strong>not</strong> the signal strength of the radio communications with the pump.  The lower the number, the stronger the BT.  As you move the RL and iPhone closer/farther apart, you will be able to see the signal strength change.</p>
<p>The Connections Status should say <code>connected</code> if the RileyLink is connected to the iPhone BT.  If the status says <code>connecting</code> then you may want to try toggling the iPhone's BT off/on to help reconnect.</p>
<p align="center">
<img src="../img/RL_bt.jpg" width="450">
</p>

<h2 id="pump">Pump<a class="headerlink" href="#pump" title="Permanent link">⌁</a></h2>
<p>The Pump ID should be automatically filled in from the setting you have already entered previously in the Loop Settings.  The pump model will say unknown until the RileyLink has tuned communications with the pump.</p>
<h2 id="commands">Commands<a class="headerlink" href="#commands" title="Permanent link">⌁</a></h2>
<p>There are many useful commands that the RileyLink can issue to the pump.  Most are simply for gathering information from the pump, but several are important commands to getting your Loop to turn and stay green.</p>
<h3 id="tune-radio-frequency">Tune Radio Frequency<a class="headerlink" href="#tune-radio-frequency" title="Permanent link">⌁</a></h3>
<p>The pump and RileyLink communicate via radio frequency.  In order to have the best possible communications, RileyLink will test a range of frequencies in order to see which provides the strongest response with the pump.  In the event that pump comms fail for over 14 minutes, Loop will automatically retune the RileyLink to see if perhaps the strongest frequency has changed since it was last tuned.</p>
<p>When you first start your Loop app, using the <strong><font color="orange">Tune Radio Frequency</strong></font> will help get pump comms started more quickly.  It may take about a minute, but soon you will see a list of frequencies with the tuning strength results beside each frequency.  The signal with the lowest value is the strongest and RileyLink will use that frequency (read more about that <a href="../../../troubleshooting/rileylink/">here</a>).  Exit out of that screen and the command line will now show the frequency (916.xx MHz for North American pumps) and the timestamp of the tune.  Now your pump and RileyLink are tuned to talk to each other.  When people suggest "did you (re)tune your RileyLink?" they are referring to this line's command.</p>
<div class="admonition info">
<p><strong>A common troubleshooting recommendation is to tune your RL when you have poor pump communications.  Just keep in mind that the Loop code has a function that it will automatically retune in the event of poor pump communications within 14 minutes.  Loop does this automatically.  Manually retuning is only useful for impatience purposes.  If Loop has failed longer than 20 minutes, it will have already likely tried a retune...but knock yourself out if you want to try it again manually.</strong></p>
</div>
<h3 id="change-time">Change Time<a class="headerlink" href="#change-time" title="Permanent link">⌁</a></h3>
<p>Another important command you <u><strong>must do</strong></u> in order to get your first green loop is to use the <strong><font color="orange">Change Time</strong></font> so that pump and Loop times will match exactly.   Under normal circumstances, you do not have to redo this command.  Some older pumps may have an issue between battery changes that they require a rewind, prime, and resetting of clock time.  This problem is due to the tiny internal capacitor inside the pump (that you cannot change out) no longer holding a charge.  If your pump resets like this (or resets due to any other functional errors), make sure you reset the clock time via RileyLink.  If you are traveling through timezones or dealing with daylight savings time, please read up on <a href="../../../troubleshooting/time-change/#traveling-across-time-zones-and-daylight-savings">how to safely change your pump time</a>.</p>
<div class="admonition warning">
<p><strong>Always use the RileyLink to change pump time.  If you fail to set the pump time by using the RileyLink, Loop will not function properly.</strong></p>
</div>
<h3 id="mysentry-pair">MySentry Pair<a class="headerlink" href="#mysentry-pair" title="Permanent link">⌁</a></h3>
<p><strong><font color="orange">MySentry Pairing</font></strong> is for x23 and x54 pumps only.  Follow the directions as shown in the RileyLink command screen for MySentry pairing.  You do not have to worry about this command if you are using an x15 or x22 model pump, as they do not have MySentry.</p>
<div class="admonition info">
<p><strong>If you do not perform a MySentry pairing and have an x23 or x54 pump, your loop will only turn green every 15 minutes.</strong></p>
</div>
<h3 id="other-commands">Other commands<a class="headerlink" href="#other-commands" title="Permanent link">⌁</a></h3>
<p>Fetch Recent History, Fetch Recent Glucose, Write Glucose History Timestamp, Get Pump Model, Send Button Press, Read Pump Status, and Read Basal Schedule are all ways of asking the pump for information you might be interested in.  They are not part of setting up the Loop.</p>
<p><strong><font color="orange">Fetch Recent History</font></strong> polls the pump for recent pump events such as boluses, temp basals, primes, rewinds, etc.  The amount of information transmitted for a Fetch Recent History is usually quite large and, as a result, may be more prone to an early failure before it succeeds.  If the first Fetch Recent History fails, sometimes it is helpful to use the Send Button Press command to sort of "wake up" the pump in preparation for communications.</p>
<p><strong><font color="orange">Fetch Recent Glucose</font></strong> is only useful for Medtronic CGM users.  The Fetch Recent Glucose command will pull the recent glucose values saved in the pump history.  Dexcom users do not store any glucose data in the pump.</p>
<p><strong><font color="orange">Write Glucose History Timestamp</font></strong> is only useful for Medtronic CGM users.</p>
<p><strong><font color="orange">Get Pump Model</font></strong> simply returns the pump's model.</p>
<p><strong><font color="orange">Send Button Press</font></strong> can be useful to see if the communication between the RileyLink and pump is working.  If successful, the screen on the pump will light up and Loop will confirm the button press with a <code>success</code> message.  If pump comms are failing, sending a successful button press can help "wake up" a pump that perhaps has not been communicating well.</p>
<p><strong><font color="orange">Read Pump Status</font></strong> is also nice quick pump read for reservoir volume, pump battery voltage, and pump status (bolusing or suspending).  For x23 and x54 pump users, this command will provide the exact pump battery voltage instead of the 25/50/75/100% levels that are reported otherwise.</p>
<p><strong><font color="orange">Read Basal Schedule</font></strong> will pull the active basal pattern from the pump so you can review what the current settings are without using pump menu.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>