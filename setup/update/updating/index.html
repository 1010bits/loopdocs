<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>Updating - Loop Docs</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/base.css" rel="stylesheet">
        <link href="../../../css/admonitions.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-109876065-1', 'loopkit.github.io');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Loop Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../../..">Home</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Setup <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../overview/">Overview</a>
</li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Requirements</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../requirements/pump/">Insulin Pump</a>
</li>

        
            
<li >
    <a href="../../requirements/cgm/">CGM</a>
</li>

        
            
<li >
    <a href="../../requirements/rileylink/">RileyLink</a>
</li>

        
            
<li >
    <a href="../../requirements/computer/">Computer</a>
</li>

        
            
<li >
    <a href="../../requirements/iphone/">iPhone</a>
</li>

        
            
<li >
    <a href="../../requirements/appledev/">Apple Developer</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Install Loop</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../build/installing/">Building App</a>
</li>

        
            
<li >
    <a href="../../build/build_errors/">Build Errors</a>
</li>

        
            
<li >
    <a href="../../build/code_customization/">Code Customization</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Loop App setup</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../loop-settings/settings/">Loop Settings</a>
</li>

        
            
<li >
    <a href="../../loop-settings/services/">Loop Services</a>
</li>

        
            
<li >
    <a href="../../loop-settings/rileylink_menu/">RileyLink menu</a>
</li>

        
            
<li >
    <a href="../../loop-settings/pump/">Pump Setup</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Update</a>
    <ul class="dropdown-menu">
        
            
<li class="active">
    <a href="./">Updating</a>
</li>

        
            
<li >
    <a href="../new-version/">New Version Info</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Operation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../operation/overview/">App Screens</a>
</li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">How To Loop</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../operation/loop/open-loop/">Open Loop</a>
</li>

        
            
<li >
    <a href="../../../operation/loop/close-loop/">Closed Loop</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Features</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../operation/features/watch/">Apple Watch</a>
</li>

        
            
<li >
    <a href="../../../operation/features/bolus/">Bolus</a>
</li>

        
            
<li >
    <a href="../../../operation/features/carbs/">Carb Entries</a>
</li>

        
            
<li >
    <a href="../../../operation/features/healthapp/">Health App</a>
</li>

        
            
<li >
    <a href="../../../operation/features/widget/">iPhone widget</a>
</li>

        
            
<li >
    <a href="../../../operation/features/notifications/">Loop Notifications</a>
</li>

        
            
<li >
    <a href="../../../operation/features/workout/">Workout Targets</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Algorithm</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../operation/algorithm/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../../operation/algorithm/bolus/">Bolus Recommendations</a>
</li>

        
            
<li >
    <a href="../../../operation/algorithm/prediction/">Glucose Prediction</a>
</li>

        
            
<li >
    <a href="../../../operation/algorithm/temp_basal/">Temp Basal Adjustments</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Troubleshooting <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../troubleshooting/overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/green-loop/">Grey Loop</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/yellow-red-loop/">Yellow/Red Loop</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/mlab_cleanup/">NS display</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/priming/">Priming and Sites</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/rileylink/">RileyLink</a>
</li>

                    
                        
<li >
    <a href="../../../troubleshooting/time-change/">Time Changes</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Nightscout <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../nightscout/overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/new_user/">Setup New Site</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/update_user/">Update Site</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/azure_migration/">Azure to Heroku</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/loop_pill/">Loop Pill</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/ifttt/">IFTTT</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/pebble/">Pebble</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/pushover/">Remote Notifications</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/reports/">Reports</a>
</li>

                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../../loop-settings/pump/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../new-version/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#how-to-update-loop">How to Update Loop</a></li>
        
            <li><a href="#update-apple-devices">Update Apple devices</a></li>
        
            <li><a href="#download-new-loop-source-code">Download new Loop source code</a></li>
        
            <li><a href="#change-main-app-bundle-id-and-build">Change Main App Bundle ID and Build</a></li>
        
            <li><a href="#save-project">Save Project</a></li>
        
            <li><a href="#add-customizations">Add customizations</a></li>
        
            <li><a href="#sign-targets-and-build">Sign Targets and Build</a></li>
        
            <li><a href="#build-errors">Build Errors</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="how-to-update-loop">How to Update Loop<a class="headerlink" href="#how-to-update-loop" title="Permanent link">⌁</a></h1>
<p>When a new version of Loop is released, you can click <a href="https://github.com/LoopKit/Loop/releases">HERE</a> to read what features or fixes were a part of the new release.</p>
<div class="admonition info">
<p>The process to update is very similar to the original building of Loop app, except you get to skip several of the first steps.  The basic steps are:</p>
<ul>
<li>Update iOS, macOS, Xcode, or watchOS as needed</li>
<li>Download new Loop source code</li>
<li>Change the MAIN_APP_BUNDLE_IDENTIFIER</li>
<li>Save project</li>
<li>Add any customizations</li>
<li>Sign all four targets</li>
<li>Build app</li>
</ul>
</div>
<h3 id="update-apple-devices">Update Apple devices<a class="headerlink" href="#update-apple-devices" title="Permanent link">⌁</a></h3>
<p>Between Loop app builds, there's a high liklihood that Apple has updated one or more of the systems involved in your Loop app; your Apple Developer license agreement, your iPhone's iOS, your computer's macOS, your Xcode app, and/or your watchOS.  <u>If you miss some of the updates, you may run into build problems.</u>  You can check for macOS and Xcode updates using the App Store link under the apple logo in your computer display's upper left corner.  Check below to make sure your equipment is running the minimum versions of the programs.</br></br></p>
<ul>
<li><strong>macOS Sierra</strong>: macOS 10.12.6 Sierra at a minimum, but High Sierra will work, too.</br></li>
<li><strong>Xcode</strong>: Xcode 9.2 (if using iOS 11 or newer), Xcode 9 or newer (if using iOS 10.3.3) </br></li>
<li><strong>iPhone</strong>: iOS 10.3.3 at a minimum, but iOS 11.2.5 is the most current and works well.</br></br></li>
</ul>
<h3 id="download-new-loop-source-code">Download new Loop source code<a class="headerlink" href="#download-new-loop-source-code" title="Permanent link">⌁</a></h3>
<p>You can use these links to download new versions of the Loop source code.  These links will always provide the most recent version of Loop:
</br></br>
<p align="center">
<a href="https://github.com/LoopKit/Loop/archive/master.zip">Loop: Master branch source code</a>
</p></br>
<p align="center">
<strong>OR</strong></br></br>
<a href="https://github.com/LoopKit/Loop/archive/dev.zip">Loop: Dev branch source code</a>
</p></br></p>
<p>FYI: The Loop source code resides in <a href="https://github.com/LoopKit/Loop">GitHub</a> within a repository.  A repository is kind of like a project's bookshelf, holding various books (aka branches) of a project.  The master branch is considered a stable version.  Any new features or options are first tested in a dev (short for "development") branch of the Loop.  New or inexperienced users should not build from the dev branch of Loop.  So if you hear of "new features in dev", these are things that may be eventually merged into the master branch once any bugs are worked out.</p>
<div class="admonition info">
<p>IMPORTANT NOTES: Best practice is to leave your Loop source code in your Downloads folder.  If you store your Loop code a different folder than Downloads (such as your Documents folder or Desktop), make sure the specified folder is <strong>not</strong> an iCloud drive.  Storing your Loop code in an iCloud drive folder will prevent Loop from building successfully.  How do you know if a folder is an iCloud drive?  Check your System Preferences.  If your System Preferences for iCloud is set as shown below, your Documents and Desktop folders are iCloud drives and <strong>NOT</strong> appropriate places to save your Loop download.
<p align="center">
<img src="../img/icloud-drive.png" width="650">
</p></br>
Depending on your browser and settings, your Loop download may or may not automatically unzip.  If it does not unzip automatically, you can right-click on the zip file and choose to "Open With" Archive Utility.  This will create a blue folder called <code>Loop-master</code>.  HOWEVER, if you already have an existing <code>Loop-master</code> folder from a previous download, the name of the next download will be something like <code>Loop-master (1)</code>.  The problem with that folder name is that it contains a space...and spaces in the name will cause your Loop build to fail.  So, either delete old copies of Loop before downloading/unzipping or rename the folder(s) to ensure that NO SPACES are in the folder name.
<p align="center">
<img src="../img/folder-name.png" width="650">
</p></p>
</div>
<h3 id="change-main-app-bundle-id-and-build">Change Main App Bundle ID and Build<a class="headerlink" href="#change-main-app-bundle-id-and-build" title="Permanent link">⌁</a></h3>
<p><strong><u>You can follow the guide for installation as you did before, beginning <a href="../../build/installing/#installing-loop-using-xcode">HERE</a> to navigate to your newly downloaded source code.</u></strong></p>
<p><strong>The most common error in updating a Loop app is to use a different MAIN_APP_BUNDLE_IDENTIFIER than you used in your original Loop build.</strong>  If you use a different MAIN_APP_BUNDLE_IDENTIFIER, your iPhone will have a brand new second Loop app and none of the settings from the original Loop app will carry over.  While some people use this technique intentionally, you will have to be aware that you cannot successfully loop with two different Loop apps actively running (opened) at the same time on the same iPhone.  So, you will have to make sure you double-tap the home button and up-swipe to close out any unused Loop apps that you don't need running.</p>
<p>If you <strong>use the same MAIN_APP_BUNDLE_IDENTIFIER as you used in the first installation</strong>, all your old settings will be preserved and you will not have to re-enter them.  If you can't remember what you used on your current Loop app, you can open your old Loop folder on your computer, click on the <code>Loop.xcconfig</code> file, and check what you used.  Alternatively, open your Loop settings, open the Issue Report and look for a line titled <code>appGroupName</code> that is within the RileyLinkDevice section of the Issue Report.  Your MAIN_APP_BUNDLE_IDENTIFIER is shown within that area. </p>
<p align="center">
<img src="../img/app_group_name2.png" width="750">
</p>

<p></br></p>
<p align="center">
<img src="../img/app_group_name.PNG" width="400">
</p>

<h3 id="save-project">Save Project<a class="headerlink" href="#save-project" title="Permanent link">⌁</a></h3>
<p><strong>Don't forget to save your project after changing the MAIN_APP_BUNDLE_IDENTIFIER.</strong>  Saving the project forces Xcode to update the individual bundle identifiers that are associated with the four targets.  If you don't save the project and Xcode doesn't update the bundle identifiers, you will get a build error.  SO...please remember to save project after you change your MAIN_APP_BUNDLE_IDENTIFIER.</p>
<h3 id="add-customizations">Add customizations<a class="headerlink" href="#add-customizations" title="Permanent link">⌁</a></h3>
<p>Add or redo any customizations, if needed.  These will not be carried over automatically from the old app.  Be sure to read up in the <a href="../../build/code_customization/">code customizations section</a> before building, as there may be new customizations available since the previous build.</p>
<h3 id="sign-targets-and-build">Sign Targets and Build<a class="headerlink" href="#sign-targets-and-build" title="Permanent link">⌁</a></h3>
<p>Sign the four targets and rebuild.  Nothing is changed here.  Just make sure to pick your paid developer team, if you have one.</p>
<h3 id="build-errors">Build Errors<a class="headerlink" href="#build-errors" title="Permanent link">⌁</a></h3>
<p><strong>If you get any build errors, please check <a href="../../build/build_errors/">this section</a> for fixes.</strong></p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>